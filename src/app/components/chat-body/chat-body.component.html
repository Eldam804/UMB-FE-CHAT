<div class="container-div" id="messageContainer">
  <div class="grid_containere"*ngFor="let m of messages">
    <div class="grid_item item1" *ngIf="!myMessage(m)">
      <img src="assets/login.png" class="img_login">
      <span class="user_name">{{m.sentBy}}</span><br>
      <span class="user-message">
        <span *ngIf="!m.content.includes('https://')">
      <img src="assets/login.png" class="img_login">
      <span class="user_name">{{m.sentBy}}</span><br>
      <span class="user-message">
        {{m.content}}
      </span>
      </span>
      <span *ngIf="m.content.includes('https://')">
        <img src="{{m.content}}" alt="{{m.content}}">
      </span>
      </span>
    </div>
<!--    <div class="grid_item item2">    </div>-->
    <div class="grid_item item3">
      <span *ngIf="myMessage(m)" class="my-message">
        <span *ngIf="!m.content.includes('https://')">
      <img src="assets/login.png" class="img_login">
      <span class="user_name">{{m.sentBy}}</span><br>
      <span class="user-message">
        {{m.content}}
      </span>
      </span>
      <span *ngIf="m.content.includes('https://')">
        <img src="{{m.content}}" alt="{{m.content}}">
      </span>
      </span>
    </div>
  </div>
</div>

<div class="chat-box">
  <form [formGroup]="userMessage" (ngSubmit)="submit()">
    <mat-form-field class="message-box">
      <input matInput formControlName="message">
      <button mat-button matSuffix mat-stroked-button color="primary" [matMenuTriggerFor]="menu" type="button">
        <mat-icon>add_reaction</mat-icon>
      </button>
      <mat-menu #menu>
        <div  *ngFor="let em of emojis" class="emoji">
          <button mat-menu-item (click)="addEmoji(em.emojiCode)" class="emoji_button">{{em.emojiCode}}</button>
        </div>
      </mat-menu>
      <button mat-button matSuffix mat-stroked-button color="primary" [disabled]="userMessage.invalid" type="submit">
        <mat-icon>send</mat-icon>
      </button>
<!--      <mat-error *ngIf="userMessage.controls.message.invalid">{{getMessageError()}}</mat-error>-->
    </mat-form-field>
  </form>
</div>
